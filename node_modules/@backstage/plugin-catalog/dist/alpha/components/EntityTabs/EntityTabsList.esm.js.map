{"version":3,"file":"EntityTabsList.esm.js","sources":["../../../../src/alpha/components/EntityTabs/EntityTabsList.tsx"],"sourcesContent":["/*\n * Copyright 2025 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport Box from '@material-ui/core/Box';\nimport Tabs from '@material-ui/core/Tabs';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { EntityTabsGroup } from './EntityTabsGroup';\n\n/** @public */\nexport type HeaderTabsClassKey =\n  | 'tabsWrapper'\n  | 'defaultTab'\n  | 'selected'\n  | 'tabRoot';\n\nconst useStyles = makeStyles(\n  theme => ({\n    tabsWrapper: {\n      gridArea: 'pageSubheader',\n      backgroundColor: theme.palette.background.paper,\n      paddingLeft: theme.spacing(3),\n      minWidth: 0,\n    },\n    defaultTab: {\n      ...theme.typography.caption,\n      padding: theme.spacing(3, 3),\n      textTransform: 'uppercase',\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.text.secondary,\n    },\n    selected: {\n      color: theme.palette.text.primary,\n    },\n    tabRoot: {\n      '&:hover': {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.primary,\n      },\n    },\n  }),\n  { name: 'BackstageHeaderTabs' },\n);\n\ntype Tab = {\n  id: string;\n  label: string;\n  path: string;\n  group: string;\n};\n\ntype TabItem = {\n  group: string;\n  id: string;\n  index: number;\n  label: string;\n  path: string;\n};\n\ntype EntityTabsListProps = {\n  tabs: Tab[];\n  selectedIndex?: number;\n  onChange?: (index: number) => void;\n};\n\nexport function EntityTabsList(props: EntityTabsListProps) {\n  const styles = useStyles();\n\n  const { tabs: items, onChange, selectedIndex: selectedItem = 0 } = props;\n\n  const groups = useMemo(\n    () => [...new Set(items.map(item => item.group))],\n    [items],\n  );\n\n  const [selectedGroup, setSelectedGroup] = useState<number>(\n    selectedItem && items[selectedItem]\n      ? groups.indexOf(items[selectedItem].group)\n      : 0,\n  );\n\n  const handleChange = useCallback(\n    (index: number) => {\n      if (selectedItem !== index) onChange?.(index);\n    },\n    [selectedItem, onChange],\n  );\n\n  useEffect(() => {\n    if (selectedItem === undefined || !items[selectedItem]) return;\n    setSelectedGroup(groups.indexOf(items[selectedItem].group));\n  }, [items, selectedItem, groups, setSelectedGroup]);\n\n  return (\n    <Box className={styles.tabsWrapper}>\n      <Tabs\n        selectionFollowsFocus\n        indicatorColor=\"primary\"\n        textColor=\"inherit\"\n        variant=\"scrollable\"\n        scrollButtons=\"auto\"\n        aria-label=\"tabs\"\n        value={selectedGroup}\n      >\n        {groups.map((group, groupIndex) => {\n          const groupItems: TabItem[] = [];\n          items.forEach((item, itemIndex) => {\n            if (item.group === group) {\n              groupItems.push({\n                ...item,\n                index: itemIndex,\n              });\n            }\n          });\n          return (\n            <EntityTabsGroup\n              data-testid={`header-tab-${groupIndex}`}\n              className={styles.defaultTab}\n              classes={{ selected: styles.selected, root: styles.tabRoot }}\n              key={group}\n              label={group}\n              value={groupIndex}\n              items={groupItems}\n              highlightedButton={selectedItem}\n              onSelectTab={() => handleChange(groupIndex)}\n            />\n          );\n        })}\n      </Tabs>\n    </Box>\n  );\n}\n"],"names":[],"mappings":"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"}