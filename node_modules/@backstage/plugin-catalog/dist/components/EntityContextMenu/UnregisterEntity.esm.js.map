{"version":3,"file":"UnregisterEntity.esm.js","sources":["../../../src/components/EntityContextMenu/UnregisterEntity.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { catalogTranslationRef } from '../../alpha/translation';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\ntype VisibleType = 'visible' | 'hidden' | 'disable';\n\nexport type UnregisterEntityOptions = {\n  disableUnregister: boolean | VisibleType;\n};\n\ninterface UnregisterEntityProps {\n  unregisterEntityOptions?: UnregisterEntityOptions;\n  isUnregisterAllowed: boolean;\n  onUnregisterEntity: () => void;\n  onClose: () => void;\n}\n\nexport function UnregisterEntity(props: UnregisterEntityProps) {\n  const {\n    unregisterEntityOptions,\n    isUnregisterAllowed,\n    onUnregisterEntity,\n    onClose,\n  } = props;\n  const { t } = useTranslationRef(catalogTranslationRef);\n\n  const isBoolean =\n    typeof unregisterEntityOptions?.disableUnregister === 'boolean';\n\n  const isDisabled =\n    (!isUnregisterAllowed ||\n      (isBoolean\n        ? !!unregisterEntityOptions?.disableUnregister\n        : unregisterEntityOptions?.disableUnregister === 'disable')) ??\n    false;\n\n  let unregisterButton = <></>;\n\n  if (unregisterEntityOptions?.disableUnregister !== 'hidden') {\n    unregisterButton = (\n      <MenuItem\n        onClick={() => {\n          onClose();\n          onUnregisterEntity();\n        }}\n        disabled={isDisabled}\n      >\n        <ListItemIcon>\n          <CancelIcon fontSize=\"small\" />\n        </ListItemIcon>\n        <ListItemText primary={t('entityContextMenu.unregisterMenuTitle')} />\n      </MenuItem>\n    );\n  }\n\n  return <>{unregisterButton}</>;\n}\n"],"names":[],"mappings":";;;;;;;;AAoCO,SAAS,iBAAiB,KAA8B,EAAA;AAC7D,EAAM,MAAA;AAAA,IACJ,uBAAA;AAAA,IACA,mBAAA;AAAA,IACA,kBAAA;AAAA,IACA;AAAA,GACE,GAAA,KAAA;AACJ,EAAA,MAAM,EAAE,CAAA,EAAM,GAAA,iBAAA,CAAkB,qBAAqB,CAAA;AAErD,EAAM,MAAA,SAAA,GACJ,OAAO,uBAAA,EAAyB,iBAAsB,KAAA,SAAA;AAExD,EAAM,MAAA,UAAA,GAAA,CACH,CAAC,mBAAA,KACC,SACG,GAAA,CAAC,CAAC,uBAAyB,EAAA,iBAAA,GAC3B,uBAAyB,EAAA,iBAAA,KAAsB,SACrD,CAAA,KAAA,KAAA;AAEF,EAAA,IAAI,mCAAqB,GAAA,CAAA,QAAA,EAAA,EAAA,CAAA;AAEzB,EAAI,IAAA,uBAAA,EAAyB,sBAAsB,QAAU,EAAA;AAC3D,IACE,gBAAA,mBAAA,IAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,SAAS,MAAM;AACb,UAAQ,OAAA,EAAA;AACR,UAAmB,kBAAA,EAAA;AAAA,SACrB;AAAA,QACA,QAAU,EAAA,UAAA;AAAA,QAEV,QAAA,EAAA;AAAA,0BAAA,GAAA,CAAC,YACC,EAAA,EAAA,QAAA,kBAAA,GAAA,CAAC,UAAW,EAAA,EAAA,QAAA,EAAS,SAAQ,CAC/B,EAAA,CAAA;AAAA,0BACC,GAAA,CAAA,YAAA,EAAA,EAAa,OAAS,EAAA,CAAA,CAAE,uCAAuC,CAAG,EAAA;AAAA;AAAA;AAAA,KACrE;AAAA;AAIJ,EAAA,uCAAU,QAAiB,EAAA,gBAAA,EAAA,CAAA;AAC7B;;;;"}