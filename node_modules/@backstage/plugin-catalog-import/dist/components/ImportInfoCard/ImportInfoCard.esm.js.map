{"version":3,"file":"ImportInfoCard.esm.js","sources":["../../../src/components/ImportInfoCard/ImportInfoCard.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InfoCard } from '@backstage/core-components';\nimport { configApiRef, useApi } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport Chip from '@material-ui/core/Chip';\nimport Typography from '@material-ui/core/Typography';\n\nimport { catalogImportApiRef } from '../../api';\nimport { useCatalogFilename } from '../../hooks';\nimport { catalogImportTranslationRef } from '../../translation';\n\n/**\n * Props for {@link ImportInfoCard}.\n *\n * @public\n */\nexport interface ImportInfoCardProps {\n  exampleLocationUrl?: string;\n  exampleRepositoryUrl?: string;\n}\n\n/**\n * Shows information about the import process.\n *\n * @public\n */\nexport const ImportInfoCard = (props: ImportInfoCardProps) => {\n  const {\n    exampleLocationUrl = 'https://github.com/backstage/backstage/blob/master/catalog-info.yaml',\n    exampleRepositoryUrl = 'https://github.com/backstage/backstage',\n  } = props;\n\n  const { t } = useTranslationRef(catalogImportTranslationRef);\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptionalString('app.title') || 'Backstage';\n  const catalogImportApi = useApi(catalogImportApiRef);\n\n  const hasGithubIntegration = configApi.has('integrations.github');\n\n  const catalogFilename = useCatalogFilename();\n\n  return (\n    <InfoCard\n      title={t('importInfoCard.title')}\n      titleTypographyProps={{ component: 'h3' }}\n      deepLink={{\n        title: t('importInfoCard.deepLinkTitle'),\n        link: 'https://backstage.io/docs/features/software-catalog/',\n      }}\n    >\n      <Typography variant=\"body2\" paragraph>\n        {t('importInfoCard.linkDescription', { appTitle })}\n      </Typography>\n      <Typography component=\"h4\" variant=\"h6\">\n        {t('importInfoCard.fileLinkTitle')}\n      </Typography>\n      <Typography variant=\"subtitle2\" color=\"textSecondary\" paragraph>\n        {t('importInfoCard.examplePrefix')}\n        <code>{exampleLocationUrl}</code>\n      </Typography>\n      <Typography variant=\"body2\" paragraph>\n        {t('importInfoCard.fileLinkDescription', { appTitle })}\n      </Typography>\n      {hasGithubIntegration && (\n        <>\n          <Typography component=\"h4\" variant=\"h6\">\n            {t('importInfoCard.githubIntegration.title')}\n            <Chip\n              label={t('importInfoCard.githubIntegration.label')}\n              variant=\"outlined\"\n              size=\"small\"\n              style={{ marginLeft: 8, marginBottom: 0 }}\n            />\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\" paragraph>\n            {t('importInfoCard.examplePrefix')}\n            <code>{exampleRepositoryUrl}</code>\n          </Typography>\n          <Typography variant=\"body2\" paragraph>\n            {t('importInfoCard.exampleDescription', {\n              catalogFilename: <code>{catalogFilename}</code>,\n              appTitle,\n            })}\n          </Typography>\n          {catalogImportApi.preparePullRequest && (\n            <Typography variant=\"body2\" paragraph>\n              {t('importInfoCard.preparePullRequestDescription', {\n                catalogFilename: <code>{catalogFilename}</code>,\n                appTitle,\n              })}\n            </Typography>\n          )}\n        </>\n      )}\n    </InfoCard>\n  );\n};\n"],"names":[],"mappings":"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"}