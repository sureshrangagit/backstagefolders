{"version":3,"file":"filter.cjs.js","sources":["../../../../../src/lib/templating/filters/parseEntityRef/filter.ts"],"sourcesContent":["/*\n * Copyright 2025 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { parseEntityRef as filter } from '@backstage/catalog-model';\nimport { createTemplateFilter } from '@backstage/plugin-scaffolder-node/alpha';\nimport { examples } from './examples';\n\nexport const parseEntityRef = createTemplateFilter({\n  id: 'parseEntityRef',\n  description:\n    'Extracts the parts of an entity reference, such as the kind, namespace, and name.',\n  schema: z =>\n    z\n      .function()\n      .args(\n        z.union([\n          z.string().describe('compact entity reference'),\n          z\n            .object({\n              kind: z.string().optional(),\n              namespace: z.string().optional(),\n              name: z.string(),\n            })\n            .describe('`CompoundEntityRef`'),\n        ]),\n        z\n          .object({\n            defaultKind: z\n              .string()\n              .describe('The default kind, if none is given in the reference'),\n            defaultNamespace: z\n              .string()\n              .describe(\n                'The default namespace, if none is given in the reference',\n              ),\n          })\n          .partial()\n          .optional(),\n      )\n      .returns(\n        z\n          .object({\n            kind: z.string(),\n            namespace: z.string(),\n            name: z.string(),\n          })\n          .describe('`CompoundEntityRef`'),\n      ),\n  examples,\n  filter,\n});\n"],"names":["createTemplateFilter","examples","filter"],"mappings":";;;;;;AAmBO,MAAM,iBAAiBA,0BAAqB,CAAA;AAAA,EACjD,EAAI,EAAA,gBAAA;AAAA,EACJ,WACE,EAAA,mFAAA;AAAA,EACF,MAAQ,EAAA,CAAA,CAAA,KACN,CACG,CAAA,QAAA,EACA,CAAA,IAAA;AAAA,IACC,EAAE,KAAM,CAAA;AAAA,MACN,CAAE,CAAA,MAAA,EAAS,CAAA,QAAA,CAAS,0BAA0B,CAAA;AAAA,MAC9C,EACG,MAAO,CAAA;AAAA,QACN,IAAM,EAAA,CAAA,CAAE,MAAO,EAAA,CAAE,QAAS,EAAA;AAAA,QAC1B,SAAW,EAAA,CAAA,CAAE,MAAO,EAAA,CAAE,QAAS,EAAA;AAAA,QAC/B,IAAA,EAAM,EAAE,MAAO;AAAA,OAChB,CACA,CAAA,QAAA,CAAS,qBAAqB;AAAA,KAClC,CAAA;AAAA,IACD,EACG,MAAO,CAAA;AAAA,MACN,WAAa,EAAA,CAAA,CACV,MAAO,EAAA,CACP,SAAS,qDAAqD,CAAA;AAAA,MACjE,gBAAA,EAAkB,CACf,CAAA,MAAA,EACA,CAAA,QAAA;AAAA,QACC;AAAA;AACF,KACH,CAAA,CACA,OAAQ,EAAA,CACR,QAAS;AAAA,GAEb,CAAA,OAAA;AAAA,IACC,EACG,MAAO,CAAA;AAAA,MACN,IAAA,EAAM,EAAE,MAAO,EAAA;AAAA,MACf,SAAA,EAAW,EAAE,MAAO,EAAA;AAAA,MACpB,IAAA,EAAM,EAAE,MAAO;AAAA,KAChB,CACA,CAAA,QAAA,CAAS,qBAAqB;AAAA,GACnC;AAAA,YACJC,iBAAA;AAAA,UACAC;AACF,CAAC;;;;"}