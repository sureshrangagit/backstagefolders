{"version":3,"file":"navigation.esm.js","sources":["../../../src/components/TemplatingExtensionsPage/navigation.ts"],"sourcesContent":["/*\n * Copyright 2025 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ListTemplatingExtensionsResponse } from '@backstage/plugin-scaffolder-react';\n\nconst kinds = ['filter', 'function', 'value'] as const;\n\nexport type ExtensionKind = (typeof kinds)[number];\n\nexport type Extension = {\n  kind: ExtensionKind;\n  name: string;\n};\n\nexport const listTemplatingExtensions = (\n  data: Partial<Pick<ListTemplatingExtensionsResponse, 'filters'>> &\n    Partial<{ globals: Partial<ListTemplatingExtensionsResponse['globals']> }>,\n): Extension[] => {\n  const exts = (\n    kind: ExtensionKind,\n    record: Record<string, any> | undefined,\n  ): Extension[] =>\n    record ? Object.keys(record).map((name: string) => ({ kind, name })) : [];\n\n  return [\n    ...exts('filter', data.filters),\n    ...exts('function', data.globals?.functions),\n    ...exts('value', data.globals?.values),\n  ];\n};\n\nexport const renderFragment = (e: Extension) => `${e.kind}_${e.name}`;\n\nexport const parseFragment = (fragment: string): Extension => {\n  const [k, name] = fragment.split('_', 2);\n  const kind = k as ExtensionKind;\n  if (kinds.includes(kind)) {\n    return {\n      kind,\n      name,\n    };\n  }\n  throw Error(fragment);\n};\n"],"names":[],"mappings":"AAiBA,MAAM,KAAQ,GAAA,CAAC,QAAU,EAAA,UAAA,EAAY,OAAO,CAAA;AAS/B,MAAA,wBAAA,GAA2B,CACtC,IAEgB,KAAA;AAChB,EAAA,MAAM,OAAO,CACX,IAAA,EACA,MAEA,KAAA,MAAA,GAAS,OAAO,IAAK,CAAA,MAAM,CAAE,CAAA,GAAA,CAAI,CAAC,IAAkB,MAAA,EAAE,MAAM,IAAK,EAAA,CAAE,IAAI,EAAC;AAE1E,EAAO,OAAA;AAAA,IACL,GAAG,IAAA,CAAK,QAAU,EAAA,IAAA,CAAK,OAAO,CAAA;AAAA,IAC9B,GAAG,IAAA,CAAK,UAAY,EAAA,IAAA,CAAK,SAAS,SAAS,CAAA;AAAA,IAC3C,GAAG,IAAA,CAAK,OAAS,EAAA,IAAA,CAAK,SAAS,MAAM;AAAA,GACvC;AACF;AAEa,MAAA,cAAA,GAAiB,CAAC,CAAiB,KAAA,CAAA,EAAG,EAAE,IAAI,CAAA,CAAA,EAAI,EAAE,IAAI,CAAA;AAEtD,MAAA,aAAA,GAAgB,CAAC,QAAgC,KAAA;AAC5D,EAAA,MAAM,CAAC,CAAG,EAAA,IAAI,IAAI,QAAS,CAAA,KAAA,CAAM,KAAK,CAAC,CAAA;AACvC,EAAA,MAAM,IAAO,GAAA,CAAA;AACb,EAAI,IAAA,KAAA,CAAM,QAAS,CAAA,IAAI,CAAG,EAAA;AACxB,IAAO,OAAA;AAAA,MACL,IAAA;AAAA,MACA;AAAA,KACF;AAAA;AAEF,EAAA,MAAM,MAAM,QAAQ,CAAA;AACtB;;;;"}