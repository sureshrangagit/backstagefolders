{"version":3,"file":"addNavLinkKeyboardToggle.esm.js","sources":["../../../src/reader/transformers/addNavLinkKeyboardToggle.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function addNavLinkKeyboardToggle() {\n  return (element: Element) => {\n    const navLabels = element.querySelectorAll('label.md-nav__link[for]');\n    navLabels.forEach(label => {\n      label.setAttribute('tabIndex', '0');\n      label.addEventListener('keydown', event => {\n        const keyboardEvent = event as KeyboardEvent;\n        if (keyboardEvent.key === 'Enter' || keyboardEvent.key === ' ') {\n          const forId = label.getAttribute('for');\n          if (!forId) return;\n          const checkbox = element.querySelector(\n            `#${forId}`,\n          ) as HTMLInputElement | null;\n          if (checkbox && checkbox.type === 'checkbox') {\n            checkbox.checked = !checkbox.checked;\n            checkbox.dispatchEvent(new Event('change', { bubbles: true }));\n            event.preventDefault();\n            event.stopPropagation();\n          }\n        }\n      });\n    });\n    return element;\n  };\n}\n"],"names":[],"mappings":"AAgBO,SAAS,wBAA2B,GAAA;AACzC,EAAA,OAAO,CAAC,OAAqB,KAAA;AAC3B,IAAM,MAAA,SAAA,GAAY,OAAQ,CAAA,gBAAA,CAAiB,yBAAyB,CAAA;AACpE,IAAA,SAAA,CAAU,QAAQ,CAAS,KAAA,KAAA;AACzB,MAAM,KAAA,CAAA,YAAA,CAAa,YAAY,GAAG,CAAA;AAClC,MAAM,KAAA,CAAA,gBAAA,CAAiB,WAAW,CAAS,KAAA,KAAA;AACzC,QAAA,MAAM,aAAgB,GAAA,KAAA;AACtB,QAAA,IAAI,aAAc,CAAA,GAAA,KAAQ,OAAW,IAAA,aAAA,CAAc,QAAQ,GAAK,EAAA;AAC9D,UAAM,MAAA,KAAA,GAAQ,KAAM,CAAA,YAAA,CAAa,KAAK,CAAA;AACtC,UAAA,IAAI,CAAC,KAAO,EAAA;AACZ,UAAA,MAAM,WAAW,OAAQ,CAAA,aAAA;AAAA,YACvB,IAAI,KAAK,CAAA;AAAA,WACX;AACA,UAAI,IAAA,QAAA,IAAY,QAAS,CAAA,IAAA,KAAS,UAAY,EAAA;AAC5C,YAAS,QAAA,CAAA,OAAA,GAAU,CAAC,QAAS,CAAA,OAAA;AAC7B,YAAS,QAAA,CAAA,aAAA,CAAc,IAAI,KAAM,CAAA,QAAA,EAAU,EAAE,OAAS,EAAA,IAAA,EAAM,CAAC,CAAA;AAC7D,YAAA,KAAA,CAAM,cAAe,EAAA;AACrB,YAAA,KAAA,CAAM,eAAgB,EAAA;AAAA;AACxB;AACF,OACD,CAAA;AAAA,KACF,CAAA;AACD,IAAO,OAAA,OAAA;AAAA,GACT;AACF;;;;"}