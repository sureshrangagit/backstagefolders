{"version":3,"file":"ErrorList.esm.js","sources":["../../../../src/components/Pods/ErrorList/ErrorList.tsx"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Fragment } from 'react';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport { PodAndErrors } from '../types';\nimport { FixDialog } from '../FixDialog/FixDialog';\n\nconst useStyles = makeStyles((_theme: Theme) =>\n  createStyles({\n    root: {\n      overflow: 'auto',\n    },\n    list: {\n      width: '100%',\n    },\n  }),\n);\n\n/**\n * Props for ErrorList\n *\n * @public\n */\nexport interface ErrorListProps {\n  podAndErrors: PodAndErrors[];\n}\n\n/**\n * Shows a list of errors found on a Pod\n *\n * @public\n */\nexport const ErrorList = ({ podAndErrors }: ErrorListProps) => {\n  const classes = useStyles();\n  return (\n    <Paper className={classes.root}>\n      <List className={classes.list}>\n        {podAndErrors\n          .filter(pae => pae.errors.length > 0)\n          .flatMap(onlyPodWithErrors => {\n            return onlyPodWithErrors.errors.map((error, i) => {\n              return (\n                <Fragment\n                  key={`${\n                    onlyPodWithErrors.pod.metadata?.name ?? 'unknown'\n                  }-eli-${i}`}\n                >\n                  {i > 0 && <Divider key={`error-divider${i}`} />}\n                  <ListItem>\n                    <Grid container>\n                      <Grid item xs={9}>\n                        <ListItemText\n                          primary={error.message}\n                          secondary={onlyPodWithErrors.pod.metadata?.name}\n                        />\n                      </Grid>\n                      <Grid item xs={3}>\n                        <FixDialog\n                          pod={onlyPodWithErrors.pod}\n                          error={error}\n                          clusterName={onlyPodWithErrors.cluster.name}\n                        />\n                      </Grid>\n                    </Grid>\n                  </ListItem>\n                </Fragment>\n              );\n            });\n          })}\n      </List>\n    </Paper>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;AA2BA,MAAM,SAAY,GAAA,UAAA;AAAA,EAAW,CAAC,WAC5B,YAAa,CAAA;AAAA,IACX,IAAM,EAAA;AAAA,MACJ,QAAU,EAAA;AAAA,KACZ;AAAA,IACA,IAAM,EAAA;AAAA,MACJ,KAAO,EAAA;AAAA;AACT,GACD;AACH,CAAA;AAgBO,MAAM,SAAY,GAAA,CAAC,EAAE,YAAA,EAAmC,KAAA;AAC7D,EAAA,MAAM,UAAU,SAAU,EAAA;AAC1B,EAAA,2BACG,KAAM,EAAA,EAAA,SAAA,EAAW,QAAQ,IACxB,EAAA,QAAA,kBAAA,GAAA,CAAC,QAAK,SAAW,EAAA,OAAA,CAAQ,MACtB,QACE,EAAA,YAAA,CAAA,MAAA,CAAO,SAAO,GAAI,CAAA,MAAA,CAAO,SAAS,CAAC,CAAA,CACnC,QAAQ,CAAqB,iBAAA,KAAA;AAC5B,IAAA,OAAO,iBAAkB,CAAA,MAAA,CAAO,GAAI,CAAA,CAAC,OAAO,CAAM,KAAA;AAChD,MACE,uBAAA,IAAA;AAAA,QAAC,QAAA;AAAA,QAAA;AAAA,UAKE,QAAA,EAAA;AAAA,YAAA,CAAA,GAAI,CAAK,oBAAA,GAAA,CAAC,OAAa,EAAA,EAAA,EAAA,CAAA,aAAA,EAAgB,CAAC,CAAI,CAAA,CAAA;AAAA,4BAC5C,GAAA,CAAA,QAAA,EAAA,EACC,QAAC,kBAAA,IAAA,CAAA,IAAA,EAAA,EAAK,WAAS,IACb,EAAA,QAAA,EAAA;AAAA,8BAAA,GAAA,CAAC,IAAK,EAAA,EAAA,IAAA,EAAI,IAAC,EAAA,EAAA,EAAI,CACb,EAAA,QAAA,kBAAA,GAAA;AAAA,gBAAC,YAAA;AAAA,gBAAA;AAAA,kBACC,SAAS,KAAM,CAAA,OAAA;AAAA,kBACf,SAAA,EAAW,iBAAkB,CAAA,GAAA,CAAI,QAAU,EAAA;AAAA;AAAA,eAE/C,EAAA,CAAA;AAAA,8BACC,GAAA,CAAA,IAAA,EAAA,EAAK,IAAI,EAAA,IAAA,EAAC,IAAI,CACb,EAAA,QAAA,kBAAA,GAAA;AAAA,gBAAC,SAAA;AAAA,gBAAA;AAAA,kBACC,KAAK,iBAAkB,CAAA,GAAA;AAAA,kBACvB,KAAA;AAAA,kBACA,WAAA,EAAa,kBAAkB,OAAQ,CAAA;AAAA;AAAA,eAE3C,EAAA;AAAA,aAAA,EACF,CACF,EAAA;AAAA;AAAA,SAAA;AAAA,QArBK,GACH,iBAAkB,CAAA,GAAA,CAAI,UAAU,IAAQ,IAAA,SAC1C,QAAQ,CAAC,CAAA;AAAA,OAoBX;AAAA,KAEH,CAAA;AAAA,GACF,GACL,CACF,EAAA,CAAA;AAEJ;;;;"}